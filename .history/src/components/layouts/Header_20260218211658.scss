@import '../../styles/variables';
@import '../../styles/animations';

.main-header {
  position: fixed;
  top: 0; left: 0; width: 100%;
  z-index: 1000;
  padding: $space-10 0; // Agrandissement du padding (était à 8)
  transition: all $duration-base $ease-default;
  
  // SÉCURITÉ SOURIS : On s'assure que le header laisse passer les clics 
  // sauf sur ses éléments enfants (logo, nav, bouton)
  pointer-events: none; 

  &.scrolled {
    padding: $space-4 0;
    background: rgba($void, 0.9);
    backdrop-filter: blur(15px);
    .header-border-bottom { opacity: 1; }
  }

  .header-container {
    max-width: 1440px; // Plus large (était à 1280)
    margin: 0 auto;
    padding: 0 $container-pad;
    display: flex; align-items: center; justify-content: space-between;
    pointer-events: auto; // RÉACTIVE la souris ici
  }

  // LOGO - Plus grand
  .header-logo {
    display: flex; flex-direction: column;
    text-decoration: none;
    pointer-events: auto; // RÉACTIVE la souris ici

    .logo-title {
      font-family: $font-title;
      font-size: 2rem; // Plus grand (était text-xl)
      color: $white;
      letter-spacing: 0.15em;
      line-height: 1;

      span {
        color: transparent;
        -webkit-text-stroke: 1px $violet;
        filter: drop-shadow(0 0 8px rgba($violet, 0.4));
      }
    }

    .logo-tagline {
      font-family: $font-mono;
      font-size: 0.65rem; // Plus grand
      color: $acid;
      letter-spacing: 0.4em;
      margin-top: $space-2;
      opacity: 0.8;
    }
  }

  // NAVIGATION CENTRALE - Plus imposante
  .header-nav {
    display: flex; gap: $space-4; // Plus d'espace entre les liens
    background: rgba($surface, 0.6);
    padding: $space-2; // Plus épais
    border-radius: 50px;
    border: 1px solid rgba($border, 0.4);
    pointer-events: auto;

    .nav-item {
      padding: $space-3 $space-10; // Plus large
      display: flex; flex-direction: column; align-items: center;
      border-radius: 40px;
      transition: all $transition;
      text-decoration: none;

      .label { 
        font-family: $font-mono; 
        font-size: 0.9rem; // Plus grand (était text-xs)
        color: $fog; 
      }
      .sub { font-family: $font-body; font-size: 0.7rem; color: $phantom; }

      &:hover, &.active {
        background: rgba($violet, 0.15);
        .label { color: $white; }
      }

      &.active {
        border: 1px solid rgba($acid, 0.3);
        .label { color: $acid; text-shadow: $glow-text-acid; }
      }
    }
  }

  // CTA DIAGNOSTIC - Plus visible
  .cta-interrogative {
    display: flex; align-items: center; gap: $space-5;
    padding: $space-2 $space-2 $space-2 $space-8;
    background: transparent;
    border: 1px solid $violet;
    border-radius: 50px;
    color: $white;
    font-family: $font-mono; font-size: 0.85rem;
    text-decoration: none;
    transition: all $transition;
    pointer-events: auto;

    .cta-icon {
      width: 44px; height: 44px; // Plus grand (était 32)
      background: $violet;
      border-radius: 50%;
      display: flex; align-items: center; justify-content: center;
      box-shadow: $glow-violet;
      font-size: 1.2rem;
      font-weight: bold;
    }

    &:hover {
      border-color: $acid;
      box-shadow: $glow-acid;
      .cta-icon { background: $acid; color: $void; box-shadow: $glow-acid; }
    }
  }

  .header-border-bottom {
    position: absolute; bottom: 0; width: 100%; height: 1px;
    background: linear-gradient(90deg, transparent, $violet, transparent);
    opacity: 0.3; // Toujours un peu visible pour le design
  }
}